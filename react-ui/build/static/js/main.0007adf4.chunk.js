(this["webpackJsonpreact-ui-nasa-mongodb-material-ui"]=this["webpackJsonpreact-ui-nasa-mongodb-material-ui"]||[]).push([[0],{102:function(e,t,a){e.exports=a(154)},107:function(e,t,a){},108:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),i=a.n(c),o=(a(107),a(21)),l=a(27),s=(a(108),a(11)),u=a(186),m=Object(u.a)((function(e){return{links:{textDecoration:"none",color:"grey"},pressed:{color:"white"}}}));function d(e){var t=m(),a=Object(s.f)().pathname;return"Home"===e.link?r.a.createElement(l.b,{to:"/",className:"".concat(t.links," ").concat("/"===a&&t.pressed)},e.link):r.a.createElement(l.b,{to:"/".concat(e.link.replace(" ","").toLowerCase()),className:"".concat(t.links," ").concat(a.includes(e.link.toLowerCase().replace(" ",""))&&t.pressed)},e.link)}var p=a(189),h=a(191),f=a(192),g=a(205),v=a(193),b=a(89),E=a.n(b),O=Object(u.a)((function(e){return{root:{top:0,zIndex:9999,marginBottom:"60px"},bar:{backgroundColor:"#290d5e"},toolbar:{display:"flex",justifyContent:"space-between"},button:{marginRight:e.spacing(2)},img:{justifySelf:"end"}}}));function x(){var e=O();Object(s.e)();return r.a.createElement(p.a,{item:!0,className:e.root,xs:12,container:!0},r.a.createElement(h.a,{position:"fixed",className:e.bar},r.a.createElement(f.a,{className:e.toolbar},r.a.createElement(g.a,null,["Home","Search","Favourites"].map((function(t){return r.a.createElement(v.a,{className:e.button,color:"inherit"},r.a.createElement(d,{link:t}))}))),r.a.createElement(g.a,null,r.a.createElement("img",{className:e.img,height:"60px",src:E.a})))))}var j=a(28),k=a(66),S=a(34),w=a.n(S),I=a(56),y=a(90),N=a.n(y),C=a(194);function _(e){return e.link.includes("youtube.com")?r.a.createElement(C.a,null,r.a.createElement(N.a,{url:e.link,width:"100%"})):r.a.createElement(C.a,{component:"img",height:"50%",width:"100%",image:e.link})}var M=a(195),D=a(196),T=a(197),B=a(198),A=a(199),L=a(200),U=a(92),F=a.n(U),P=a(91),W=a.n(P),K=a(57),H=Object(u.a)({card:{marginTop:"20px",marginBottom:"20px"},cards:{border:"0.1px groove #bca9f3"},actions:{justifyContent:"center"},img:{width:"100%",height:"40vh"}});function R(e){var t=e.image,a=H(),n=Object(s.f)().pathname;return"/"===n||n.includes("favourite/")?r.a.createElement(p.a,{item:!0,xs:11,container:!0,id:t.key},r.a.createElement(M.a,{className:a.card},r.a.createElement(D.a,null,r.a.createElement(_,{link:t.imgUrl}),r.a.createElement(T.a,{title:t.title}),r.a.createElement(B.a,null,r.a.createElement(K.a,{variant:"body1",color:"textSecondary",component:"p"},t.description))))):r.a.createElement(M.a,{className:"".concat(a.card," ").concat(a.cards),id:t.key},r.a.createElement(D.a,null,n.includes("search")?r.a.createElement("img",{className:a.img,src:t.imgUrl}):r.a.createElement(l.b,{to:"/favourite/".concat(t._id)},r.a.createElement("img",{className:a.img,src:t.imgUrl})),r.a.createElement(T.a,{title:t.title})),r.a.createElement(A.a,{className:a.actions},t.isSaved?r.a.createElement(L.a,{onClick:function(){t.isSaved=!1,e.handleDelete(t._id)},className:a.icon}," ",r.a.createElement(W.a,null)," "):r.a.createElement(L.a,{onClick:function(){t.isSaved=!0,e.handleSave(t)},className:a.icon}," ",r.a.createElement(F.a,null)," ")))}var z=a(201),J=a(30),q=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NASA_API_KEY,G=Object(u.a)({root:{marginBottom:"20px"},progress:{marginTop:"50px"}});function V(){var e=Object(n.useState)({title:"",img:"",description:""}),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!0),l=Object(o.a)(i,2),s=l[0],u=l[1],m=G();return Object(n.useEffect)((function(){J.get("https://api.nasa.gov/planetary/apod?api_key=".concat(q)).then((function(e){c({title:e.data.title,imgUrl:e.data.url,description:e.data.explanation}),u(!1)}))}),[]),r.a.createElement(p.a,{className:m.root,item:!0,xs:12,container:!0,justify:"center",align:"center"},s?r.a.createElement(z.a,{className:m.progress}):r.a.createElement(R,{image:a}))}var Y=a(203),$=a(93),Q=a.n($),X=Object(u.a)({multilineColor:{color:"white"},textField:{"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"&:hover .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"white"},"& .MuiOutlinedInput-input":{color:"white"},"&:hover .MuiOutlinedInput-input":{color:"white"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-input":{color:"white"},"& .MuiInputLabel-outlined":{color:"white"},"&:hover .MuiInputLabel-outlined":{color:"white"},"& .MuiInputLabel-outlined.Mui-focused":{color:"white"}}});function Z(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],i=a[1],l=X();return r.a.createElement(Y.a,{id:"outlined-full-width",label:"Search through space",className:l.textField,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},InputProps:{startAdornment:r.a.createElement(Q.a,{position:"center"}),className:l.multilineColor},variant:"outlined",value:c,onChange:function(e){i(e.target.value)},type:"text",onKeyDown:function(t){13===t.which&&e.handleSearch(c)}})}var ee=a(94),te=a.n(ee),ae=a(30),ne=Object(u.a)({root:{marginTop:"20px",marginBottom:"20px"},card:{backgroundColor:"#150f2b",padding:"15px",paddingTop:"5px"}});function re(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],i=a[1],l=ne(),s=function(t){return e.favouriteImages.find((function(e){return e._id===t}))};return r.a.createElement(p.a,{item:!0,className:l.root,container:!0,xs:11,alignItems:"center"},r.a.createElement(M.a,{className:l.card},r.a.createElement(Z,{handleSearch:function(e){i([]);var t=[];ae.get("https://images-api.nasa.gov/search?q=".concat(e)).then((function(e){e.data.collection.items.forEach((function(e){if(e.links){var a=e.links.find((function(e){return"image"===e.render})).href;if(a){var n={_id:e.data[0].nasa_id,title:e.data[0].title,imgUrl:a,description:e.data[0].description,isSaved:s(e.data[0].nasa_id)};t.push(n)}}})),i(t)}))}}),r.a.createElement(p.a,Object(j.a)({item:!0,xs:12,container:!0,justify:"center",align:"center"},"container",!0),r.a.createElement(B.a,null,c.length>0?c.map((function(t){return r.a.createElement(R,{key:t.id,image:t,favouriteImages:e.favouriteImages,handleSave:e.handleSave,handleDelete:e.handleDelete})})):r.a.createElement(C.a,{component:"img",width:"100%",image:te.a})))))}var ce=Object(u.a)({root1:{marginBottom:"20px"},root2:{marginTop:"20px",marginBottom:"20px"},card:{backgroundColor:"#150f2b",padding:"15px",paddingTop:"5px"},title:{color:"white",paddingBottom:"0px"}}),ie=a(30);function oe(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),c=a[0],i=a[1],l=ce();return Object(n.useEffect)((function(){if(e.match){var t=e.match.params.imageId;ie.get("http://localhost:3001/images/".concat(t)).then((function(e){i(e.data)}))}}),[e.match]),Object(n.useEffect)((function(){e.getAllImages()}),[]),r.a.createElement(n.Fragment,null,c.title?r.a.createElement(p.a,{item:!0,className:l.root1,xs:12,justify:"center",align:"center"},r.a.createElement(R,{key:c._id,image:c,handleSave:e.handleSave,handleDelete:e.handleDelete})):r.a.createElement(p.a,{item:!0,className:l.root2,xs:11,container:!0,justify:"center",align:"center"},r.a.createElement(M.a,{className:l.card},r.a.createElement(p.a,Object(j.a)({item:!0,xs:12,container:!0,justify:"center",align:"center"},"container",!0),r.a.createElement(T.a,{title:"Favourites:",className:l.title}),r.a.createElement(B.a,{style:{paddingTop:"0px"}},e.favouriteImages.map((function(t){return r.a.createElement(R,{key:t._id,image:t,handleSave:e.handleSave,handleDelete:e.handleDelete})})))))))}var le=a(30),se=a.n(le);function ue(e){var t,a,c=Object(n.useState)([]),i=Object(o.a)(c,2),l=i[0],u=i[1],m=function(){var e=Object(I.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:se.a.get("http://localhost:3001/image").then((function(e){e.data.forEach((function(e){return e.isSaved=!0})),u(e.data)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){m()}),[]);var d=function(){var t=Object(I.a)(w.a.mark((function t(a){var n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(k.a)(l),!(r=n.find((function(e){return e._id===a._id})))){t.next=9;break}return r.isSaved=!0,u(n),t.next=7,se.a.post("http://localhost:3001/image/save",a);case 7:t.next=12;break;case 9:return t.next=11,se.a.post("http://localhost:3001/image/save",a);case 11:m();case 12:e.handleClick("Saved");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(I.a)(w.a.mark((function t(a){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(k.a)(l),n.find((function(e){return e._id===a})).isSaved=!1,u(n),t.next=6,se.a.delete("http://localhost:3001/image/".concat(a));case 6:e.handleClick("Removed");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,r.a.createElement(s.a,{exact:!0,path:"/",component:V}),r.a.createElement(s.a,(t={exact:!0,path:"/search"},Object(j.a)(t,"exact",!0),Object(j.a)(t,"render",(function(){return r.a.createElement(re,{favouriteImages:l,handleSave:d,handleDelete:p})})),t)),r.a.createElement(s.a,(a={exact:!0,path:"/favourites"},Object(j.a)(a,"exact",!0),Object(j.a)(a,"render",(function(){return r.a.createElement(oe,{favouriteImages:l,handleSave:d,handleDelete:p,getAllImages:m})})),a)),r.a.createElement(s.a,{path:"/favourite/:imageId",exact:!0,render:function(e){var t=e.match;return r.a.createElement(oe,{match:t,favouriteImages:l,handleSave:d,handleDelete:p,getAllImages:m})}}))}var me=a(206),de=a(202),pe=Object(u.a)((function(e){return{root:{flexGrow:1},snackbar:{backgroundColor:"#6e57ba",justifyContent:"center"}}}));var he=function(){var e=pe(),t=Object(n.useState)({open:!1,message:""}),a=Object(o.a)(t,2),c=a[0],i=a[1];return r.a.createElement(l.a,null,r.a.createElement(p.a,{className:e.root,container:!0,direction:"row",justify:"center"},r.a.createElement(x,null),r.a.createElement(ue,{handleClick:function(e){setTimeout((function(){i({open:!1,message:e})}),2e3),i({open:!0,message:e})}}),r.a.createElement(me.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:c.open,key:"bottomcenter"},r.a.createElement(de.a,{className:e.snackbar,message:"Item ".concat(c.message)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e,t,a){e.exports=a.p+"static/media/kisspng-logo-nasa-insignia-vector-graphics-portable-networ-vasper-5c0bc49343c935.1278996415442750912777.162e4f4a.png"},94:function(e,t,a){e.exports=a.p+"static/media/istockphoto-1141690154-170667a.a1daa95f.jpg"}},[[102,1,2]]]);
//# sourceMappingURL=main.0007adf4.chunk.js.map